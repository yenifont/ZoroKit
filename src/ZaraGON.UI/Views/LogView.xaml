<UserControl x:Class="ZaraGON.UI.Views.LogView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <DockPanel Margin="24,20,24,24">
        <!-- Page Header -->
        <StackPanel DockPanel.Dock="Top" Margin="0,0,0,6">
            <TextBlock Text="Log G&#246;r&#252;nt&#252;leyici" Style="{StaticResource PageTitleStyle}" />
            <TextBlock Text="Servis loglar&#305;n&#305; ger&#231;ek zamanl&#305; izleyin" Style="{StaticResource PageSubtitleStyle}" Margin="0" />
        </StackPanel>

        <!-- Controls -->
        <Border DockPanel.Dock="Top" Style="{StaticResource CardStyle}" Padding="14,10">
            <DockPanel>
                <!-- Right: Action Buttons -->
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" Margin="12,0,0,0">
                    <Button Style="{StaticResource GhostButtonStyle}" Command="{Binding RefreshCommand}"
                            Padding="10,5" FontSize="11.5" Margin="0,0,6,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Refresh" Width="13" Height="13" Margin="0,0,5,0" VerticalAlignment="Center" />
                            <TextBlock Text="Yenile" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource GhostButtonStyle}" Command="{Binding CopyLogsCommand}"
                            Padding="10,5" FontSize="11.5" Margin="0,0,6,0">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ContentCopy" Width="13" Height="13" Margin="0,0,5,0" VerticalAlignment="Center" />
                            <TextBlock Text="Kopyala" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource GhostButtonStyle}" Command="{Binding ClearLogsCommand}"
                            Padding="10,5" FontSize="11.5">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="DeleteOutline" Width="13" Height="13" Margin="0,0,5,0" VerticalAlignment="Center" />
                            <TextBlock Text="Temizle" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                </StackPanel>

                <!-- Left: Source Filter -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <materialDesign:PackIcon Kind="Filter" Width="15" Height="15"
                                             Foreground="{StaticResource PrimaryBrush}" Margin="0,0,8,0"
                                             VerticalAlignment="Center" />
                    <TextBlock Text="Kaynak" FontSize="13" FontWeight="SemiBold"
                               Foreground="{StaticResource PrimaryTextBrush}" VerticalAlignment="Center"
                               Margin="0,0,10,0" />
                    <ComboBox ItemsSource="{Binding Sources}" SelectedItem="{Binding SelectedSource}"
                              Background="{StaticResource InputBackgroundBrush}" Foreground="{StaticResource PrimaryTextBrush}"
                              BorderThickness="0" Width="180" Padding="8,5" FontSize="11.5" />
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Log Entries -->
        <Border Style="{StaticResource CardStyle}" Padding="10,8">
            <ListView ItemsSource="{Binding LogEntries}" Background="Transparent" BorderThickness="0"
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      ScrollViewer.CanContentScroll="True"
                      VirtualizingPanel.IsVirtualizing="True"
                      VirtualizingPanel.VirtualizationMode="Recycling"
                      FontFamily="Consolas" FontSize="11.5">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <DockPanel Margin="0,1">
                            <TextBlock Text="{Binding Timestamp, StringFormat='{}{0:HH:mm:ss}'}"
                                       Foreground="{StaticResource MutedTextBrush}" Width="58" FontSize="11" />
                            <TextBlock Width="48" Margin="8,0" FontSize="11">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Text" Value="{Binding Level}" />
                                        <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}" />
                                        <Setter Property="FontWeight" Value="SemiBold" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Level}" Value="ERROR">
                                                <Setter Property="Foreground" Value="{StaticResource ErrorBrush}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Level}" Value="WARN">
                                                <Setter Property="Foreground" Value="{StaticResource WarningBrush}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <Border Background="{StaticResource PrimaryLightBrush}" CornerRadius="4" Padding="5,2" Margin="0,0,8,0"
                                    VerticalAlignment="Center">
                                <TextBlock Text="{Binding Source}" Foreground="{StaticResource PrimaryBrush}" FontSize="10" FontWeight="Medium" />
                            </Border>
                            <TextBlock Text="{Binding Message}" Foreground="{StaticResource PrimaryTextBrush}" TextWrapping="NoWrap" FontSize="11.5" />
                        </DockPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
                <ListView.ItemContainerStyle>
                    <Style TargetType="ListViewItem">
                        <Setter Property="Background" Value="Transparent" />
                        <Setter Property="Padding" Value="4,2" />
                        <Setter Property="Margin" Value="0" />
                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                    </Style>
                </ListView.ItemContainerStyle>
            </ListView>
        </Border>
    </DockPanel>
</UserControl>
